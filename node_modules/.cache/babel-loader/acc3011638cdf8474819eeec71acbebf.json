{"ast":null,"code":"import _toConsumableArray from\"D:/javaprograms/react/amazonclone/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"D:/javaprograms/react/amazonclone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";export var initialState={basket:[{id:\"5452659\",title:\"Trading in the Zone: Master the Market with Confidence, Discipline and a Winning Attitude\",price:1800,rating:5,image:\"https://images-na.ssl-images-amazon.com/images/I/A1mGPw7HhYL.jpg\"},{id:\"5452659\",title:\"2021 Apple iPad Pro with Apple M1 chip (11-inch/27.96 cm, Wi-Fi + Cellular, 1TB) - Silver (3rd Generation)\",price:85000,rating:4,image:\"https://m.media-amazon.com/images/I/817doxCSq7S._SX679_.jpg\"},{id:\"5452659\",title:\"2021 Apple iPad Pro with Apple M1 chip (11-inch/27.96 cm, Wi-Fi + Cellular, 1TB) - Silver (3rd Generation)\",price:85000,rating:4,image:\"https://m.media-amazon.com/images/I/817doxCSq7S._SX679_.jpg\"}],user:null};// Selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(amount,item){return item.price+amount;},0);};var reducer=function reducer(state,action){console.log(action);switch(action.type){case\"ADD_TO_BASKET\"://logic for adding logic to basket\nreturn _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});//  break;\ncase\"REMOVE_FROM_BASKET\"://logic for removing itms from basket\n// we clone the basket here\nvar newBasket=_toConsumableArray(state.basket);// we check to see if product exists\nvar index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});if(index>=0){// item exists in the basket, remove it...\nnewBasket.splice(index,1);}else{console.warn(\"cant remove product (id: \".concat(action.id,\") as its no in basket!\"));}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});// break;\ndefault:return state;}};export default reducer;//it allows you used the reducer outside","map":{"version":3,"names":["initialState","basket","id","title","price","rating","image","user","getBasketTotal","reduce","amount","item","reducer","state","action","console","log","type","newBasket","index","findIndex","basketItem","splice","warn"],"sources":["D:/javaprograms/react/amazonclone/src/reducer.js"],"sourcesContent":["\r\n\r\nexport const initialState = {\r\n  basket: [\r\n    {\r\n      id:\"5452659\",\r\n      title:\"Trading in the Zone: Master the Market with Confidence, Discipline and a Winning Attitude\",\r\n      price:1800,\r\n      rating:5,\r\n      image:\"https://images-na.ssl-images-amazon.com/images/I/A1mGPw7HhYL.jpg\"\r\n    },\r\n    {\r\n    id:\"5452659\",\r\n        title:\"2021 Apple iPad Pro with Apple M1 chip (11-inch/27.96 cm, Wi-Fi + Cellular, 1TB) - Silver (3rd Generation)\",\r\n        price:85000,\r\n        rating:4,\r\n        image:\"https://m.media-amazon.com/images/I/817doxCSq7S._SX679_.jpg\"\r\n  },\r\n    {\r\n    id:\"5452659\",\r\n        title:\"2021 Apple iPad Pro with Apple M1 chip (11-inch/27.96 cm, Wi-Fi + Cellular, 1TB) - Silver (3rd Generation)\",\r\n        price:85000,\r\n        rating:4,\r\n        image:\"https://m.media-amazon.com/images/I/817doxCSq7S._SX679_.jpg\"\r\n  },\r\n],\r\n  user: null\r\n };\r\n\r\n// Selector\r\nexport const getBasketTotal = (basket) => \r\n  basket?.reduce((amount, item) => item.price + amount, 0);\r\n\r\n const reducer = (state, action) => {\r\n   console.log(action);\r\n   switch(action.type) {\r\n   case \"ADD_TO_BASKET\":\r\n       //logic for adding logic to basket\r\n      return { \r\n        ...state,\r\n        basket: [...state.basket, action.item],\r\n       };\r\n      //  break;\r\n    case \"REMOVE_FROM_BASKET\":\r\n        //logic for removing itms from basket\r\n\r\n        // we clone the basket here\r\n       let newBasket = [...state.basket];\r\n       \r\n       // we check to see if product exists\r\n       const index = state.basket.findIndex( (basketItem) => basketItem.id === action.id );\r\n\r\n       if (index >= 0) {\r\n         // item exists in the basket, remove it...\r\n         newBasket.splice(index, 1);\r\n       } else {\r\n         console.warn(\r\n            `cant remove product (id: ${action.id}) as its no in basket!`\r\n         )\r\n       }\r\n\r\n        return { \r\n          ...state,\r\n           basket: newBasket\r\n           };\r\n        // break;\r\n    default:\r\n        return state;\r\n   }\r\n };\r\n\r\n export default reducer;\r\n //it allows you used the reducer outside"],"mappings":"qPAEA,MAAO,IAAMA,aAAY,CAAG,CAC1BC,MAAM,CAAE,CACN,CACEC,EAAE,CAAC,SADL,CAEEC,KAAK,CAAC,2FAFR,CAGEC,KAAK,CAAC,IAHR,CAIEC,MAAM,CAAC,CAJT,CAKEC,KAAK,CAAC,kEALR,CADM,CAQN,CACAJ,EAAE,CAAC,SADH,CAEIC,KAAK,CAAC,4GAFV,CAGIC,KAAK,CAAC,KAHV,CAIIC,MAAM,CAAC,CAJX,CAKIC,KAAK,CAAC,6DALV,CARM,CAeN,CACAJ,EAAE,CAAC,SADH,CAEIC,KAAK,CAAC,4GAFV,CAGIC,KAAK,CAAC,KAHV,CAIIC,MAAM,CAAC,CAJX,CAKIC,KAAK,CAAC,6DALV,CAfM,CADkB,CAwB1BC,IAAI,CAAE,IAxBoB,CAArB,CA2BP;AACA,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAiB,CAACP,MAAD,QAC5BA,OAD4B,SAC5BA,MAD4B,iBAC5BA,MAAM,CAAEQ,MAAR,CAAe,SAACC,MAAD,CAASC,IAAT,QAAkBA,KAAI,CAACP,KAAL,CAAaM,MAA/B,EAAf,CAAsD,CAAtD,CAD4B,EAAvB,CAGN,GAAME,QAAO,CAAG,QAAVA,QAAU,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACjCC,OAAO,CAACC,GAAR,CAAYF,MAAZ,EACA,OAAOA,MAAM,CAACG,IAAd,EACA,IAAK,eAAL,CACI;AACD,sCACKJ,KADL,MAEEZ,MAAM,8BAAMY,KAAK,CAACZ,MAAZ,GAAoBa,MAAM,CAACH,IAA3B,EAFR,GAIA;AACF,IAAK,oBAAL,CACI;AAEA;AACD,GAAIO,UAAS,oBAAOL,KAAK,CAACZ,MAAb,CAAb,CAEA;AACA,GAAMkB,MAAK,CAAGN,KAAK,CAACZ,MAAN,CAAamB,SAAb,CAAwB,SAACC,UAAD,QAAgBA,WAAU,CAACnB,EAAX,GAAkBY,MAAM,CAACZ,EAAzC,EAAxB,CAAd,CAEA,GAAIiB,KAAK,EAAI,CAAb,CAAgB,CACd;AACAD,SAAS,CAACI,MAAV,CAAiBH,KAAjB,CAAwB,CAAxB,EACD,CAHD,IAGO,CACLJ,OAAO,CAACQ,IAAR,oCAC+BT,MAAM,CAACZ,EADtC,4BAGD,CAEA,sCACKW,KADL,MAEGZ,MAAM,CAAEiB,SAFX,GAIA;AACJ,QACI,MAAOL,MAAP,CAhCL,CAkCD,CApCD,CAsCA,cAAeD,QAAf,CACA"},"metadata":{},"sourceType":"module"}